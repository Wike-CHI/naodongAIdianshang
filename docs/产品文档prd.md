# naodongAI 产品需求文档（PRD）

## 1. 项目概述

- 平台名称：naodongAI，多功能在线 AI 生成工具平台。
- 产品目标：为普通用户提供直观的 AI 生成体验，为管理员提供灵活的工具与运营配置能力。
- 参考站点：布局与交互参考 `psai.cn`（三栏工作区）。
- 核心能力：微信登录、会员服务、积分消费、在线支付。

## 2. 用户角色与权限

- 未登录游客
  - 可浏览前台页面和工具介绍。
  - 使用核心生成功能必须登录。
- 普通注册用户
  - 拥有基础积分，可使用免费或优惠生成功能；生成时消耗积分。
- VIP 会员
  - 支付年费后享受权益，如充值或生成折扣。
- 系统管理员
  - 通过后台配置前台工具、管理接口、用户、积分与支付；拥有全部管理权限。

## 3. 前台功能

### 3.1 全局布局与导航

- 三栏工作区：左侧工具选择，中间操作区，右侧结果区。
- 顶部导航：网站 Logo、用户中心（显示积分与会员状态）、微信登录入口。

### 3.2 核心工作区（三栏布局）

- 左侧栏（功能选择）
  - 以图标或列表展示所有 AI 工具（AI 白底图、AI 试衣、模特换姿、AI 视频、AI 设计等）。
  - 切换工具后，中间与右侧随之切换对应 UI。
- 中间栏（操作区）
  - 动态展示与所选工具匹配的控件。
  - 通用控件库（可由后台配置）：
    - 图片上传：用于图生图、风格迁移等。
    - 文本输入：正向提示词、负向提示词。
    - 选择控件：模型（如 `SDXL`、`Midjourney`）、风格、比例等。
    - 生成按钮：触发生成逻辑；消耗积分或走会员折扣。
- 右侧栏（结果区）
  - 展示生成结果。
  - 操作项：下载、再次生成、收藏到作品库（可选）。

### 3.3 用户系统与个人中心

- 登录与注册
  - 支持微信扫码登录；可选手机号登录、账号密码登录。
- 个人中心
  - 基本信息管理。
  - 我的作品库：保存当日生成记录（可选）。
  - 积分余额展示与充值入口。
  - 会员开通与管理。

### 3.4 原型页面（文档资源）

- 服饰版 AI 模特界面：`./prototype/AI模特界面.png`
- AI 试衣（衣服试穿）界面：`./prototype/衣服试穿界面.png`
- 同版型试衣界面：`./prototype/同版型试衣界面.png`
- 鞋子上脚界面：`./prototype/鞋子上脚界面.png`
- 眼镜试戴界面：`./prototype/眼镜试戴界面.png`
- 姿势裂变界面：`./prototype/模特图裂变界面.png`
- 模特视频界面：`./prototype/模特图生视频界面.png`
- 商品图场景更换界面：`./prototype/商品图场景更换界面.png`
- 商品图换色界面：`./prototype/商品图换色界面.png`
- 登录/注册界面：参考上方登录方式
- 个人中心界面：`./prototype/个人中心界面.png`
- 订阅系统卡片界面：`./prototype/订阅系统卡片界面.png`

## 4. 会员与积分系统

- 积分充值
  - 集成支付宝支付；支持固定面额积分包。
- 会员服务
  - 年付会员套餐；权益含积分充值折扣或生成折扣。
- 消费规则
  - 每个工具对应积分消耗标准；生成时按规则扣减。
- 订单与记录
  - 展示积分充值与会员开通的订单记录。| col1 | col2 | col3 |
    | ---- | ---- | ---- |
    |      |      |      |
    |      |      |      |

## 5. 后台管理功能

### 5.1 AI 工具管理

- 工具列表与配置：可启用/停用并配置展示顺序与分组。
- 提示词模板管理
  - 模板支持前端参数占位，如 `{参数名}`。
  - 示例：后端模板“一只{动物}，在{环境}里，{风格}风格”。
  - 前端输入映射：填写“猫 / 森林 / 卡通”后自动拼接为“一只猫，在森林里，卡通风格”。
- API 绑定
  - 为工具配置后端 API 地址与请求参数映射。

### 5.2 API 接口管理

- 接口配置：维护内部与第三方生成接口。
- 参数映射：将前台控件值映射到请求字段。
- 密钥管理：安全存储第三方 API 密钥。

### 5.3 用户管理

- 用户列表：用户名、微信、注册时间等。
- 积分调整：为用户手动增减积分。
- 生成记录：查看用户生成历史。

### 5.4 积分与会员管理

- 积分规则设置：按工具配置消耗标准。
- 会员套餐管理：创建与编辑套餐（名称、价格、权益）。
- 财务记录：积分充值与会员开通订单。

### 5.5 系统设置

- 全局：网站标题、Logo、默认积分赠送规则等。

## 6. 技术栈建议

- 前端：`React` + `Ant Design`（组件化与动态 UI）。
- 后端：`Node.js`（`Express` 或 `Nest.js`）。
- 数据库：`PostgreSQL`（结构化数据） + `Redis`（会话与缓存）。
- 文件存储：开发环境本地；生产环境 `阿里云 OSS` / `腾讯云 COS`。
- 微信生态：使用微信官方 SDK 实现登录与支付。
- 部署：服务器 + `Docker` 容器化、`Nginx` 反向代理、域名与 `SSL`。

## 7. 非功能性需求

- 性能：图片上传与加载流畅；生成请求快速并提供等待反馈。
- 安全：用户数据、支付信息、API 密钥加密存储；防范 `XSS`、`CSRF` 等攻击。
- 可扩展：架构易于接入新模型与第三方 API。
- 体验：现代化设计与清晰交互，符合中国用户习惯。
